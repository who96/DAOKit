请进入主控模式，执行任务 DKT-005（Implement shim dispatch adapter）。

【项目根目录】
/Users/huluobo/workSpace/DAOKit

【上下文文件（先读）】
- /Users/huluobo/workSpace/DAOKit/specs/001-daokit-agent-platform/requirements.md
- /Users/huluobo/workSpace/DAOKit/specs/001-daokit-agent-platform/design.md
- /Users/huluobo/workSpace/DAOKit/specs/001-daokit-agent-platform/tasks.md

【任务锚点】
- Task ID: DKT-005
- Title: Implement shim dispatch adapter
- Dependencies: DKT-004

【Goal】
Provide create/resume/rework dispatch interface with artifact capture.

【Concrete Actions】
1) Implement wrapper around local shim path
2) Parse subagent outputs into structured result
3) Persist raw IO and normalized output paths

【Acceptance Criteria】
1) Adapter executes create and resume in dry-run
2) Every call writes request/output/error artifacts
3) Thread and run correlation stable across retries

【Allowed Scope（超出即拒绝）】
- src/dispatch/ src/artifacts/ tests/dispatch/

【Verification Baseline】
- make test-dispatch

【Verification Log 格式契约】
1) verification.log 必须有命令证据。
2) 允许以下任一格式被验收器识别：
   - Command: <cmd>
   - === COMMAND ENTRY N START/END ===
3) 为避免解析器差异，建议每个 COMMAND ENTRY 块内同时写一行 Command: <cmd>。

【硬约束】
1) 主控不得直接改文件、不得直接执行有副作用命令。
2) 只能通过本地 shim 派发 subagent。
3) 验收仅基于 artifacts 与命令日志，不接受口头声明。
4) 如不满足验收标准，必须输出差分 rework JSON 并继续迭代。
5) 每个任务最多 3 轮 rework，超限即标记 FAILED 并报告阻塞。
6) 如基线验证命令缺失（例如 Make target 不存在），允许等价替代命令，但必须在 verification.log 说明替代关系与覆盖范围。

【最终输出（只输出一次）】
- Task ID
- Status: SUCCESS | FAILED
- Summary
- Files Changed
- Commands Executed
- Verification Results
- Risks / Limitations
- Next Step Suggestion
