=== COMMAND ENTRY 1 START ===
Command: make lint
--- OUTPUT START ---
python3 -m compileall src tests
Listing 'src'...
Listing 'src/acceptance'...
Listing 'src/artifacts'...
Listing 'src/audit'...
Listing 'src/cli'...
Listing 'src/contracts'...
Listing 'src/daokit'...
Listing 'src/dispatch'...
Listing 'src/hooks'...
Listing 'src/orchestrator'...
Listing 'src/planner'...
Listing 'src/rag'...
Listing 'src/rag/evaluation'...
Listing 'src/rag/evaluation/datasets'...
Listing 'src/rag/index'...
Listing 'src/rag/ingest'...
Listing 'src/rag/retrieval'...
Listing 'src/reliability'...
Listing 'src/reliability/handoff'...
Listing 'src/reliability/heartbeat'...
Listing 'src/reliability/lease'...
Listing 'src/reliability/scenarios'...
Listing 'src/reliability/succession'...
Listing 'src/reports'...
Listing 'src/skills'...
Listing 'src/state'...
Listing 'src/tools'...
Listing 'src/tools/common'...
Listing 'src/tools/function_calling'...
Listing 'src/tools/langchain'...
Listing 'src/tools/mcp'...
Listing 'src/verification'...
Listing 'tests'...
Listing 'tests/acceptance'...
Listing 'tests/audit'...
Listing 'tests/ci'...
Listing 'tests/cli'...
Listing 'tests/contracts'...
Listing 'tests/contracts/samples'...
Listing 'tests/dispatch'...
Listing 'tests/e2e'...
Listing 'tests/hooks'...
Listing 'tests/orchestrator'...
Listing 'tests/planner'...
Listing 'tests/rag'...
Listing 'tests/reliability'...
Listing 'tests/reports'...
Listing 'tests/skills'...
Listing 'tests/templates'...
Listing 'tests/tools'...
Listing 'tests/verification'...
--- OUTPUT END ---
Exit Code: 0
=== COMMAND ENTRY 1 END ===
=== COMMAND ENTRY 2 START ===
Command: make test
--- OUTPUT START ---
PYTHONPATH=src python3 -m unittest discover -s tests -p 'test_*.py' -v
test_codex_integration_runbooks_reference_hardening_gate (ci.test_v11_hardening_gate_contract.V11HardeningGateContractTests) ... ok
test_makefile_exposes_hardening_gate_targets (ci.test_v11_hardening_gate_contract.V11HardeningGateContractTests) ... ok
test_release_check_runbook_matches_ci_gate_sequence (ci.test_v11_hardening_gate_contract.V11HardeningGateContractTests) ... ok
test_workflow_runs_criterion_mapped_gate_order (ci.test_v11_hardening_gate_contract.V11HardeningGateContractTests) ... ok
test_contributor_doc_includes_deterministic_release_checklist (templates.test_skill_manifest_template.SkillManifestTemplateTests) ... ok
test_contributor_doc_includes_failure_examples (templates.test_skill_manifest_template.SkillManifestTemplateTests) ... ok
test_template_hooks_use_supported_events (templates.test_skill_manifest_template.SkillManifestTemplateTests) ... ok
test_template_is_accepted_by_loader_contract (templates.test_skill_manifest_template.SkillManifestTemplateTests) ... ok
test_template_is_valid_json_with_required_metadata (templates.test_skill_manifest_template.SkillManifestTemplateTests) ... ok
test_adapter_scaffold_is_immediately_runnable (templates.test_tool_adapter_template.ToolAdapterTemplateContractTests) ... ok
test_contributor_checklist_maps_acceptance_and_evidence (templates.test_tool_adapter_template.ToolAdapterTemplateContractTests) ... ok
test_readme_links_template_to_release_check (templates.test_tool_adapter_template.ToolAdapterTemplateContractTests) ... ok
test_template_assets_exist (templates.test_tool_adapter_template.ToolAdapterTemplateContractTests) ... ok
test_cli_init_returns_error_for_invalid_root (test_init.InitCommandTests) ... ok
test_cli_init_returns_error_when_required_directory_is_file (test_init.InitCommandTests) ... ok
test_cli_init_returns_error_when_state_file_path_is_directory (test_init.InitCommandTests) ... ok
test_cli_init_supports_custom_root (test_init.InitCommandTests) ... ok
test_initialize_repository_creates_required_layout (test_init.InitCommandTests) ... ok
test_initialize_repository_is_idempotent (test_init.InitCommandTests) ... ok
test_initialize_repository_rejects_directory_path_conflict (test_init.InitCommandTests) ... ok
test_initialize_repository_rejects_state_file_path_conflict (test_init.InitCommandTests) ... ok
test_run_release_check_fails_fast_after_first_failure (test_release_check.ReleaseCheckTests) ... ok
test_run_release_check_writes_markerized_log_and_summary (test_release_check.ReleaseCheckTests) ... ok
test_flow_completes_without_external_api_dependency (test_text_input_minimal_flow.TextInputMinimalFlowScenarioTests) ... ok
test_real_dispatch_path_is_invoked_and_auditable (test_text_input_minimal_flow.TextInputMinimalFlowScenarioTests) ... ok
test_repeated_runs_keep_process_path_and_artifact_structure_signatures_stable (test_text_input_minimal_flow.TextInputMinimalFlowScenarioTests) ... ok

----------------------------------------------------------------------
Ran 26 tests in 0.495s

OK
--- OUTPUT END ---
Exit Code: 0
=== COMMAND ENTRY 2 END ===
=== COMMAND ENTRY 3 START ===
Command: make release-check
--- OUTPUT START ---
PYTHONPATH=src python3 -m cli.release_check \
		--verification-log ".artifacts/release-check/verification.log" \
		--summary-json ".artifacts/release-check/summary.json" \
		--working-directory "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-062"
--- OUTPUT END ---
Exit Code: 0
=== COMMAND ENTRY 3 END ===
=== COMMAND ENTRY 4 START ===
Command: PYTHONPATH=src python3 -m unittest tests.rag.test_embedding_providers tests.rag.test_embedding_migration_compatibility tests.rag.test_ingestion_pipeline tests.rag.test_retrieval_benchmark -v
--- OUTPUT START ---
test_default_production_backend_is_benchmark_selected_and_evidence_linked (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_index_search_uses_embedding_provider_abstraction (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_local_token_signature_provider_vector_signature_is_stable (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_production_mode_supports_local_candidates_and_optional_api (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_production_mode_without_backend_uses_benchmark_selected_default (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_test_mode_provider_is_deterministic_hash_fixture (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_unavailable_api_provider_falls_back_to_local_candidate (tests.rag.test_embedding_providers.EmbeddingProviderTests) ... ok
test_load_legacy_payload_without_provider_metadata_defaults_to_test_fixture (tests.rag.test_embedding_migration_compatibility.EmbeddingMigrationCompatibilityTests) ... ok
test_load_payload_with_legacy_backend_name_without_mode_keeps_fixture_contract (tests.rag.test_embedding_migration_compatibility.EmbeddingMigrationCompatibilityTests) ... ok
test_default_rebuild_uses_production_embedding_provider (tests.rag.test_ingestion_pipeline.RagIngestionPipelineTests) ... ok
test_index_rebuild_is_deterministic (tests.rag.test_ingestion_pipeline.RagIngestionPipelineTests) ... ok
test_new_documents_are_indexed_and_searchable (tests.rag.test_ingestion_pipeline.RagIngestionPipelineTests) ... ok
test_retrieval_supports_task_and_run_filters (tests.rag.test_ingestion_pipeline.RagIngestionPipelineTests) ... ok
test_test_mode_rebuild_remains_deterministic (tests.rag.test_ingestion_pipeline.RagIngestionPipelineTests) ... ok
test_artifact_layout_is_stable_and_evidence_linked (tests.rag.test_retrieval_benchmark.RetrievalBenchmarkTests) ... ok
test_benchmark_outputs_top_k_quality_metrics_per_backend (tests.rag.test_retrieval_benchmark.RetrievalBenchmarkTests) ... ok
test_default_dataset_is_representative_and_valid (tests.rag.test_retrieval_benchmark.RetrievalBenchmarkTests) ... ok

----------------------------------------------------------------------
Ran 17 tests in 0.017s

OK
--- OUTPUT END ---
Exit Code: 0
=== COMMAND ENTRY 4 END ===
