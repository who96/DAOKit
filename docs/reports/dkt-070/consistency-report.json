{
  "backends": [
    "filesystem",
    "sqlite"
  ],
  "generated_at": "2026-02-13T16:27:07.201310+00:00",
  "output_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend",
  "passed": true,
  "run_id": "DKT-070_20260213T132036Z_7vugm3t",
  "scenario_ids": [
    "integrated_reliability",
    "text_input_minimal_flow",
    "checkpoint_recovery"
  ],
  "scenarios": [
    {
      "comparison": {
        "differences": [],
        "equivalent": true
      },
      "contract_hashes": {
        "filesystem": "a9cb9ba547dd981d98ec9ab9233eea24bf30fb43531f07f2e1e24ecaeefb0b64",
        "sqlite": "a9cb9ba547dd981d98ec9ab9233eea24bf30fb43531f07f2e1e24ecaeefb0b64"
      },
      "id": "integrated_reliability",
      "outputs": {
        "filesystem": {
          "backend": "filesystem",
          "contract_hash": "a9cb9ba547dd981d98ec9ab9233eea24bf30fb43531f07f2e1e24ecaeefb0b64",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/filesystem/contract.json",
          "contract_snapshot": {
            "checks": {
              "continuity_assertions_met": true,
              "event_lease_state_consistent": true,
              "forced_stale_condition": true,
              "heartbeat_condition_matches_fixture": true,
              "recovered_without_manual_state_repair": true,
              "status_replay_consistent_after_recovery": true,
              "takeover_and_handoff_applied_during_active_run": true
            },
            "continuity_assertion_results": {
              "CONT-001": true,
              "CONT-002": true,
              "CONT-003": true,
              "CONT-004": true,
              "CONT-006": true,
              "CONT-007": true,
              "CONT-008": true,
              "CONT-009": true,
              "CONT-010": true,
              "CONT-011": true
            },
            "event_count": 10,
            "final_state": {
              "current_step": "S1",
              "status": "DONE"
            },
            "graph_backend": "fallback",
            "heartbeat": {
              "first_tick": {
                "reason_code": "NO_OUTPUT_20M",
                "status": "STALE"
              },
              "second_tick": {
                "reason_code": "NO_OUTPUT_20M",
                "status": "STALE"
              },
              "stale_event_count": 2
            },
            "replay_count": 10,
            "resolved_runtime_engine": "langgraph",
            "runtime_class": "LangGraphOrchestratorRuntime",
            "runtime_mode": "integrated",
            "scenario_expectations_passed": true,
            "scenario_id": "stale-takeover-handoff-resume",
            "takeover": {
              "action": "TAKEOVER",
              "adopted_step_ids": [
                "S1"
              ],
              "failed_step_ids": [],
              "handoff_applied": true,
              "handoff_resume_step_id": "S1",
              "successor_active_after_recovery": 1,
              "successor_active_final": 1
            }
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/filesystem/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/filesystem/scenario"
        },
        "sqlite": {
          "backend": "sqlite",
          "contract_hash": "a9cb9ba547dd981d98ec9ab9233eea24bf30fb43531f07f2e1e24ecaeefb0b64",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/sqlite/contract.json",
          "contract_snapshot": {
            "checks": {
              "continuity_assertions_met": true,
              "event_lease_state_consistent": true,
              "forced_stale_condition": true,
              "heartbeat_condition_matches_fixture": true,
              "recovered_without_manual_state_repair": true,
              "status_replay_consistent_after_recovery": true,
              "takeover_and_handoff_applied_during_active_run": true
            },
            "continuity_assertion_results": {
              "CONT-001": true,
              "CONT-002": true,
              "CONT-003": true,
              "CONT-004": true,
              "CONT-006": true,
              "CONT-007": true,
              "CONT-008": true,
              "CONT-009": true,
              "CONT-010": true,
              "CONT-011": true
            },
            "event_count": 10,
            "final_state": {
              "current_step": "S1",
              "status": "DONE"
            },
            "graph_backend": "fallback",
            "heartbeat": {
              "first_tick": {
                "reason_code": "NO_OUTPUT_20M",
                "status": "STALE"
              },
              "second_tick": {
                "reason_code": "NO_OUTPUT_20M",
                "status": "STALE"
              },
              "stale_event_count": 2
            },
            "replay_count": 10,
            "resolved_runtime_engine": "langgraph",
            "runtime_class": "LangGraphOrchestratorRuntime",
            "runtime_mode": "integrated",
            "scenario_expectations_passed": true,
            "scenario_id": "stale-takeover-handoff-resume",
            "takeover": {
              "action": "TAKEOVER",
              "adopted_step_ids": [
                "S1"
              ],
              "failed_step_ids": [],
              "handoff_applied": true,
              "handoff_resume_step_id": "S1",
              "successor_active_after_recovery": 1,
              "successor_active_final": 1
            }
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/sqlite/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/integrated_reliability/sqlite/scenario"
        }
      }
    },
    {
      "comparison": {
        "differences": [],
        "equivalent": true
      },
      "contract_hashes": {
        "filesystem": "6c979fa5a0a16ea7e143608849448dda3076770348583316c2ba9994dc57ee98",
        "sqlite": "6c979fa5a0a16ea7e143608849448dda3076770348583316c2ba9994dc57ee98"
      },
      "id": "text_input_minimal_flow",
      "outputs": {
        "filesystem": {
          "backend": "filesystem",
          "contract_hash": "6c979fa5a0a16ea7e143608849448dda3076770348583316c2ba9994dc57ee98",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/filesystem/contract.json",
          "contract_snapshot": {
            "acceptance": {
              "artifact_structure_signature": "bdc39afb1693f0ec135a79bd381464b6d001467dfc4b5e5037936e25e4bc61db",
              "checks": {
                "artifact_structure_consistent": true,
                "process_path_consistent": true,
                "release_anchor_compatible": true
              },
              "process_path_signature": "d023ea3c5d2a959a67a1a9b97fc42eaa9171a75dc7b69e3667388ae0ad184e9b",
              "release_anchor_compatible": true
            },
            "dispatch": {
              "call_count": 1,
              "execution_mode": "fallback",
              "llm_invoked": false
            },
            "final_state": {
              "current_step": "S1",
              "status": "DONE"
            },
            "planner": {
              "step_count": 3,
              "step_ids": [
                "S1",
                "S2",
                "S3"
              ]
            }
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/filesystem/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/filesystem/scenario"
        },
        "sqlite": {
          "backend": "sqlite",
          "contract_hash": "6c979fa5a0a16ea7e143608849448dda3076770348583316c2ba9994dc57ee98",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/sqlite/contract.json",
          "contract_snapshot": {
            "acceptance": {
              "artifact_structure_signature": "bdc39afb1693f0ec135a79bd381464b6d001467dfc4b5e5037936e25e4bc61db",
              "checks": {
                "artifact_structure_consistent": true,
                "process_path_consistent": true,
                "release_anchor_compatible": true
              },
              "process_path_signature": "d023ea3c5d2a959a67a1a9b97fc42eaa9171a75dc7b69e3667388ae0ad184e9b",
              "release_anchor_compatible": true
            },
            "dispatch": {
              "call_count": 1,
              "execution_mode": "fallback",
              "llm_invoked": false
            },
            "final_state": {
              "current_step": "S1",
              "status": "DONE"
            },
            "planner": {
              "step_count": 3,
              "step_ids": [
                "S1",
                "S2",
                "S3"
              ]
            }
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/sqlite/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/text_input_minimal_flow/sqlite/scenario"
        }
      }
    },
    {
      "comparison": {
        "differences": [],
        "equivalent": true
      },
      "contract_hashes": {
        "filesystem": "b087db1d45e3a9ccdad1d4aaf42a298b0765859c32e035587dc99a67ace3b93c",
        "sqlite": "b087db1d45e3a9ccdad1d4aaf42a298b0765859c32e035587dc99a67ace3b93c"
      },
      "id": "checkpoint_recovery",
      "outputs": {
        "filesystem": {
          "backend": "filesystem",
          "contract_hash": "b087db1d45e3a9ccdad1d4aaf42a298b0765859c32e035587dc99a67ace3b93c",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/filesystem/contract.json",
          "contract_snapshot": {
            "checkpoint_resume_diagnostics_present": true,
            "checkpoint_resume_status": "recovered_with_warnings",
            "checks": {
              "checkpoint_resume_warns": true,
              "final_status_done": true,
              "recovered_status_is_freeze": true,
              "recovered_step_is_s1": true
            },
            "final_status": "DONE",
            "recovered_status": "FREEZE",
            "recovered_step": "S1"
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/filesystem/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/filesystem/scenario"
        },
        "sqlite": {
          "backend": "sqlite",
          "contract_hash": "b087db1d45e3a9ccdad1d4aaf42a298b0765859c32e035587dc99a67ace3b93c",
          "contract_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/sqlite/contract.json",
          "contract_snapshot": {
            "checkpoint_resume_diagnostics_present": true,
            "checkpoint_resume_status": "recovered_with_warnings",
            "checks": {
              "checkpoint_resume_warns": true,
              "final_status_done": true,
              "recovered_status_is_freeze": true,
              "recovered_step_is_s1": true
            },
            "final_status": "DONE",
            "recovered_status": "FREEZE",
            "recovered_step": "S1"
          },
          "raw_summary_path": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/sqlite/raw-summary.json",
          "scenario_root": "/Users/huluobo/workSpace/DAOKit/.worktrees/dkt-070/.artifacts/agent_runs/DKT-070_20260213T132036Z_7vugm3t/S1/cross-backend/checkpoint_recovery/sqlite/scenario"
        }
      }
    }
  ],
  "schema_version": "1.0.0",
  "status": "PASS",
  "step_id": "S1",
  "task_id": "DKT-070",
  "tolerance": {
    "ignored_fields": [
      "event_id",
      "checkpoint_id",
      "lease_token",
      "timestamp",
      "updated_at",
      "scenario_root",
      "state_dir",
      "events_log",
      "handoff_package",
      "runtime_settings",
      "operator_recovery_outputs",
      "command_log"
    ],
    "notes": "Equivalence compares backend outputs after canonicalization. Canonicalization keeps only contract-relevant signals and drops volatile ids/timestamps and absolute filesystem paths."
  },
  "workflow": "cross-backend-consistency"
}
