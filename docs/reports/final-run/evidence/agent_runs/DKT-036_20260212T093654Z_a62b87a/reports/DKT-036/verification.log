=== COMMAND ENTRY 1 START ===
Command: PYTHONPATH=src python3 -m reliability.scenarios.integrated_reliability --scenario-root /Users/huluobo/workSpace/DAOKit/.worktrees/dkt-036/.artifacts/agent_runs/DKT-036_20260212T093654Z_a62b87a/S1/scenario_sandbox --output-json docs/reports/final-run/evidence/agent_runs/DKT-036_20260212T093654Z_a62b87a/reports/DKT-036/integrated-reliability-summary.json
Exit Code: 0
Key Output:
- runtime_mode=integrated
- resolved_runtime_engine=langgraph
- runtime_class=LangGraphOrchestratorRuntime
- graph_backend=fallback
- active_status_before_recovery=EXECUTE
- takeover.action=TAKEOVER
- takeover.handoff_applied=true
- takeover.takeover_at=2026-02-12T09:46:59.687543+00:00
- checks.forced_stale_condition=true
- checks.takeover_and_handoff_applied_during_active_run=true
- checks.event_lease_state_consistent=true
- checks.status_replay_consistent_after_recovery=true
- checks.recovered_without_manual_state_repair=true
- final_state.status=DONE
- event_count=10 replay_count=10
=== COMMAND ENTRY 1 END ===

=== COMMAND ENTRY 2 START ===
Command: PYTHONPATH=src python3 -m unittest tests/e2e/test_integrated_reliability.py -v
Exit Code: 0
Stdout:
<empty>
Stderr:
test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay (tests.e2e.test_integrated_reliability.IntegratedReliabilityE2ETests.test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay) ... ok

----------------------------------------------------------------------
Ran 1 test in 0.263s

OK
=== COMMAND ENTRY 2 END ===

=== COMMAND ENTRY 3 START ===
Command: PYTHONPATH=src python3 -m unittest discover -s tests/e2e -p 'test_*.py' -v
Exit Code: 0
Stdout:
<empty>
Stderr:
test_stress_scenario_covers_recovery_takeover_rework_and_replay (test_e2e_stress.EndToEndStressTests.test_stress_scenario_covers_recovery_takeover_rework_and_replay) ... ok
test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay (test_integrated_reliability.IntegratedReliabilityE2ETests.test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay) ... ok

----------------------------------------------------------------------
Ran 2 tests in 0.652s

OK
=== COMMAND ENTRY 3 END ===

=== COMMAND ENTRY 4 START ===
Command: examples/cli/integrated_reliability_recovery_chain.sh .artifacts/agent_runs/DKT-036_20260212T093654Z_a62b87a/S1/example_script_sandbox docs/reports/final-run/evidence/agent_runs/DKT-036_20260212T093654Z_a62b87a/reports/DKT-036/integrated-reliability-summary-from-script.json
Exit Code: 0
Key Output:
Integrated reliability recovery scenario completed: docs/reports/final-run/evidence/agent_runs/DKT-036_20260212T093654Z_a62b87a/reports/DKT-036/integrated-reliability-summary-from-script.json
=== COMMAND ENTRY 4 END ===

=== COMMAND ENTRY 5 START ===
Command: make lint && make test
Exit Code: 0
Stdout:
python3 -m compileall src tests
Listing 'src'...
Listing 'src/acceptance'...
Listing 'src/artifacts'...
Listing 'src/audit'...
Listing 'src/cli'...
Listing 'src/contracts'...
Listing 'src/daokit'...
Compiling 'src/daokit/__main__.py'...
Compiling 'src/daokit/cli.py'...
Listing 'src/dispatch'...
Listing 'src/hooks'...
Compiling 'src/hooks/__init__.py'...
Compiling 'src/hooks/compaction.py'...
Compiling 'src/hooks/handoff.py'...
Compiling 'src/hooks/runtime.py'...
Listing 'src/orchestrator'...
Listing 'src/planner'...
Compiling 'src/planner/__init__.py'...
Compiling 'src/planner/compiler.py'...
Listing 'src/rag'...
Listing 'src/rag/index'...
Listing 'src/rag/ingest'...
Compiling 'src/rag/ingest/__init__.py'...
Compiling 'src/rag/ingest/chunker.py'...
Compiling 'src/rag/ingest/pipeline.py'...
Listing 'src/rag/retrieval'...
Listing 'src/reliability'...
Listing 'src/reliability/handoff'...
Listing 'src/reliability/heartbeat'...
Listing 'src/reliability/lease'...
Listing 'src/reliability/scenarios'...
Listing 'src/reliability/succession'...
Listing 'src/skills'...
Compiling 'src/skills/__init__.py'...
Compiling 'src/skills/loader.py'...
Listing 'src/state'...
Listing 'src/tools'...
Listing 'src/tools/common'...
Listing 'src/tools/function_calling'...
Compiling 'src/tools/function_calling/__init__.py'...
Compiling 'src/tools/function_calling/adapter.py'...
Listing 'src/tools/langchain'...
Compiling 'src/tools/langchain/__init__.py'...
Compiling 'src/tools/langchain/orchestration.py'...
Listing 'src/tools/mcp'...
Compiling 'src/tools/mcp/__init__.py'...
Compiling 'src/tools/mcp/adapter.py'...
Listing 'tests'...
Listing 'tests/acceptance'...
Compiling 'tests/acceptance/test_engine.py'...
Listing 'tests/audit'...
Compiling 'tests/audit/test_scope_guard.py'...
Listing 'tests/cli'...
Compiling 'tests/cli/test_engine_rollout_compatibility.py'...
Compiling 'tests/cli/test_parser_compatibility.py'...
Listing 'tests/contracts'...
Listing 'tests/contracts/samples'...
Compiling 'tests/contracts/test_engine_rollout_contract_guardrails.py'...
Compiling 'tests/contracts/test_release_evidence_anchors.py'...
Compiling 'tests/contracts/test_schema_compatibility_guardrails.py'...
Compiling 'tests/contracts/test_validator.py'...
Listing 'tests/dispatch'...
Compiling 'tests/dispatch/test_shim_adapter.py'...
Listing 'tests/e2e'...
Listing 'tests/hooks'...
Compiling 'tests/hooks/test_compaction.py'...
Compiling 'tests/hooks/test_runtime.py'...
Listing 'tests/orchestrator'...
Compiling 'tests/orchestrator/test_langchain_retrieval_bridge.py'...
Compiling 'tests/orchestrator/test_langgraph_runtime.py'...
Compiling 'tests/orchestrator/test_relay_boundary.py'...
Compiling 'tests/orchestrator/test_retrieval_policy.py'...
Compiling 'tests/orchestrator/test_runtime_adapter_protocols.py'...
Compiling 'tests/orchestrator/test_runtime_engine_selector.py'...
Compiling 'tests/orchestrator/test_state_machine.py'...
Compiling 'tests/orchestrator/test_tool_orchestration_mode.py'...
Listing 'tests/planner'...
Compiling 'tests/planner/test_compiler.py'...
Listing 'tests/rag'...
Compiling 'tests/rag/test_ingestion_pipeline.py'...
Compiling 'tests/rag/test_retrieval_policy.py'...
Listing 'tests/reliability'...
Compiling 'tests/reliability/test_handoff_package.py'...
Compiling 'tests/reliability/test_heartbeat_daemon.py'...
Listing 'tests/skills'...
Compiling 'tests/skills/test_loader.py'...
Compiling 'tests/test_init.py'...
Listing 'tests/tools'...
Compiling 'tests/tools/test_function_calling_adapter.py'...
Compiling 'tests/tools/test_langchain_tool_orchestration.py'...
Compiling 'tests/tools/test_mcp_adapter.py'...
Compiling 'tests/tools/test_optional_dependencies.py'...
PYTHONPATH=src python3 -m unittest discover -s tests -p 'test_*.py' -v
Stderr:
test_cli_init_returns_error_for_invalid_root (test_init.InitCommandTests.test_cli_init_returns_error_for_invalid_root) ... ok
test_cli_init_returns_error_when_required_directory_is_file (test_init.InitCommandTests.test_cli_init_returns_error_when_required_directory_is_file) ... ok
test_cli_init_returns_error_when_state_file_path_is_directory (test_init.InitCommandTests.test_cli_init_returns_error_when_state_file_path_is_directory) ... ok
test_cli_init_supports_custom_root (test_init.InitCommandTests.test_cli_init_supports_custom_root) ... ok
test_initialize_repository_creates_required_layout (test_init.InitCommandTests.test_initialize_repository_creates_required_layout) ... ok
test_initialize_repository_is_idempotent (test_init.InitCommandTests.test_initialize_repository_is_idempotent) ... ok
test_initialize_repository_rejects_directory_path_conflict (test_init.InitCommandTests.test_initialize_repository_rejects_directory_path_conflict) ... ok
test_initialize_repository_rejects_state_file_path_conflict (test_init.InitCommandTests.test_initialize_repository_rejects_state_file_path_conflict) ... ok

----------------------------------------------------------------------
Ran 8 tests in 0.009s

OK
=== COMMAND ENTRY 5 END ===

=== BASELINE VERIFICATION SUMMARY ===
- Required baseline command executed exactly: `make lint && make test` (COMMAND ENTRY 5).
- Marker styles included: `=== COMMAND ENTRY N START/END ===` and `Command: <cmd>` lines.
- Integrated-mode reliability scenario evidence is captured in COMMAND ENTRY 1 and COMMAND ENTRY 4.


=== COMMAND ENTRY 6 START ===
Command: PYTHONPATH=src python3 -m unittest tests/e2e/test_integrated_reliability.py -v && make lint && make test
Exit Code: 0
Stdout:
test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay (tests.e2e.test_integrated_reliability.IntegratedReliabilityE2ETests.test_integrated_mode_recovers_from_forced_stale_takeover_handoff_and_replay) ... ok

----------------------------------------------------------------------
Ran 1 test in 0.260s

OK
python3 -m compileall src tests
PYTHONPATH=src python3 -m unittest discover -s tests -p 'test_*.py' -v
... 8 tests run, OK
=== COMMAND ENTRY 6 END ===
